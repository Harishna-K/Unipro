{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Harishna\\\\OneDrive\\\\Desktop\\\\master-transaction-app\\\\frontend\\\\src\\\\components\\\\TransactionForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { listMasters, createTransaction } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TransactionForm() {\n  _s();\n  const [masters, setMasters] = useState([]);\n  const [form, setForm] = useState({\n    transaction_number: '',\n    transaction_date: '',\n    entity_code: '',\n    amount: 0\n  });\n  const [msg, setMsg] = useState(null);\n  useEffect(() => {\n    listMasters().then(m => setMasters(m.filter(x => x.active)));\n  }, []);\n  async function submit(e) {\n    e.preventDefault();\n    const res = await createTransaction(form);\n    setMsg(res.ref_no ? 'Saved ' + res.ref_no : JSON.stringify(res));\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: submit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Txn No\",\n      value: form.transaction_number,\n      onChange: e => setForm({\n        ...form,\n        transaction_number: e.target.value\n      }),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: form.transaction_date,\n      onChange: e => setForm({\n        ...form,\n        transaction_date: e.target.value\n      }),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: form.entity_code,\n      onChange: e => setForm({\n        ...form,\n        entity_code: e.target.value\n      }),\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Entity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), masters.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: m.entity_code,\n        children: m.entity_name\n      }, m.entity_code, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 26\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      step: \"0.01\",\n      value: form.amount,\n      onChange: e => setForm({\n        ...form,\n        amount: parseFloat(e.target.value)\n      }),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(TransactionForm, \"zeR3aJtGn0ohRxzLgjkyWovw4kk=\");\n_c = TransactionForm;\nvar _c;\n$RefreshReg$(_c, \"TransactionForm\");","map":{"version":3,"names":["React","useEffect","useState","listMasters","createTransaction","jsxDEV","_jsxDEV","TransactionForm","_s","masters","setMasters","form","setForm","transaction_number","transaction_date","entity_code","amount","msg","setMsg","then","m","filter","x","active","submit","e","preventDefault","res","ref_no","JSON","stringify","onSubmit","children","placeholder","value","onChange","target","required","fileName","_jsxFileName","lineNumber","columnNumber","type","map","entity_name","step","parseFloat","_c","$RefreshReg$"],"sources":["C:/Users/Harishna/OneDrive/Desktop/master-transaction-app/frontend/src/components/TransactionForm.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {listMasters, createTransaction} from '../api'\n\nexport default function TransactionForm(){\n  const [masters,setMasters] = useState([])\n  const [form,setForm] = useState({transaction_number:'',transaction_date:'',entity_code:'',amount:0})\n  const [msg,setMsg] = useState(null)\n\n  useEffect(()=>{ listMasters().then(m=>setMasters(m.filter(x=>x.active))) },[])\n\n  async function submit(e){\n    e.preventDefault()\n    const res = await createTransaction(form)\n    setMsg(res.ref_no ? 'Saved '+res.ref_no : JSON.stringify(res))\n  }\n\n  return (\n    <form onSubmit={submit}>\n      <input placeholder='Txn No' value={form.transaction_number} onChange={e=>setForm({...form,transaction_number:e.target.value})} required/>\n      <input type='date' value={form.transaction_date} onChange={e=>setForm({...form,transaction_date:e.target.value})} required/>\n      <select value={form.entity_code} onChange={e=>setForm({...form,entity_code:e.target.value})} required>\n        <option value=''>Select Entity</option>\n        {masters.map(m=>(<option key={m.entity_code} value={m.entity_code}>{m.entity_name}</option>))}\n      </select>\n      <input type='number' step='0.01' value={form.amount} onChange={e=>setForm({...form,amount:parseFloat(e.target.value)})} required/>\n      <button>Save</button>\n      {msg && <div>{msg}</div>}\n    </form>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}