{"ast":null,"code":"import _objectSpread from\"C:/Users/Harishna/OneDrive/Desktop/master-transaction-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{listMasters,createTransaction}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TransactionForm(){const[masters,setMasters]=useState([]);const[form,setForm]=useState({transaction_number:'',transaction_date:'',entity_code:'',amount:0});const[msg,setMsg]=useState(null);useEffect(()=>{listMasters().then(m=>setMasters(m.filter(x=>x.active)));},[]);async function submit(e){e.preventDefault();const res=await createTransaction(form);setMsg(res.ref_no?'Saved '+res.ref_no:JSON.stringify(res));}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Txn No\",value:form.transaction_number,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{transaction_number:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.transaction_date,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{transaction_date:e.target.value})),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:form.entity_code,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{entity_code:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Entity\"}),masters.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m.entity_code,children:m.entity_name},m.entity_code))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:form.amount,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{amount:parseFloat(e.target.value)})),required:true}),/*#__PURE__*/_jsx(\"button\",{children:\"Save\"}),msg&&/*#__PURE__*/_jsx(\"div\",{children:msg})]});}","map":{"version":3,"names":["React","useEffect","useState","listMasters","createTransaction","jsx","_jsx","jsxs","_jsxs","TransactionForm","masters","setMasters","form","setForm","transaction_number","transaction_date","entity_code","amount","msg","setMsg","then","m","filter","x","active","submit","e","preventDefault","res","ref_no","JSON","stringify","onSubmit","children","placeholder","value","onChange","_objectSpread","target","required","type","map","entity_name","step","parseFloat"],"sources":["C:/Users/Harishna/OneDrive/Desktop/master-transaction-app/frontend/src/components/TransactionForm.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {listMasters, createTransaction} from '../api'\n\nexport default function TransactionForm(){\n  const [masters,setMasters] = useState([])\n  const [form,setForm] = useState({transaction_number:'',transaction_date:'',entity_code:'',amount:0})\n  const [msg,setMsg] = useState(null)\n\n  useEffect(()=>{ listMasters().then(m=>setMasters(m.filter(x=>x.active))) },[])\n\n  async function submit(e){\n    e.preventDefault()\n    const res = await createTransaction(form)\n    setMsg(res.ref_no ? 'Saved '+res.ref_no : JSON.stringify(res))\n  }\n\n  return (\n    <form onSubmit={submit}>\n      <input placeholder='Txn No' value={form.transaction_number} onChange={e=>setForm({...form,transaction_number:e.target.value})} required/>\n      <input type='date' value={form.transaction_date} onChange={e=>setForm({...form,transaction_date:e.target.value})} required/>\n      <select value={form.entity_code} onChange={e=>setForm({...form,entity_code:e.target.value})} required>\n        <option value=''>Select Entity</option>\n        {masters.map(m=>(<option key={m.entity_code} value={m.entity_code}>{m.entity_name}</option>))}\n      </select>\n      <input type='number' step='0.01' value={form.amount} onChange={e=>setForm({...form,amount:parseFloat(e.target.value)})} required/>\n      <button>Save</button>\n      {msg && <div>{msg}</div>}\n    </form>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}